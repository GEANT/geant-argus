{% load template_utils %}
<button type="button"
        onclick="modal_{{ incident.source_incident_id }}.showModal()">{{ incident.description }}</button>
<dialog id="modal_{{ incident.source_incident_id }}" class="modal">
  <div class="modal-box bg-base-200">
    <h3 class="text-lg font-bold">Quick Glance</h3>
    <table class="table">
      <tbody>
        {% for item in incident_description_glance_table %}
          <tr>
            <th>{{ item.name|underscores_to_spaces }}</th>
            {% if item.is_meta_item %}
              <td>{{ incident.metadata|get_item:item.cell_lookup_key }}</td>
            {% else %}
              <td>{{ incident|get_description_modal_item:item.cell_lookup_key }}</td>
            {% endif %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
    <div class="modal-action">
      <form method="dialog">
        <button class="btn bg-neutral text-neutral-content">Close</button>
      </form>
    </div>
  </div>
</dialog>
